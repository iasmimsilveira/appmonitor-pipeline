name: DiagnÃ³stico Automatizado

on:
  workflow_dispatch:

jobs:
  diagnostic:
    runs-on: ubuntu-latest
    steps:
      - name: Verificar APP_ENV
        if: ${{ env.APP_ENV == '' }}
        run: echo "::error::APP_ENV nÃ£o estÃ¡ definido!"

      - name: Verificar API_KEY
        if: ${{ secrets.API_KEY == '' }}
        run: echo "::error::API_KEY nÃ£o estÃ¡ definido!"

      - name: Registrar sugestÃµes no summary
        run: |
          echo "## ðŸ› ï¸ DiagnÃ³stico do Pipeline" >> $GITHUB_STEP_SUMMARY
          echo "- Verifique se APP_ENV estÃ¡ configurado nas variÃ¡veis de ambiente." >> $GITHUB_STEP_SUMMARY
          echo "- Confirme se o segredo API_KEY foi definido no repositÃ³rio." >> $GITHUB_STEP_SUMMARY
